<header class="site-wide-header">
    <p>Christmas Lists</p>
</header>

<div class="register-wrapper" fxLayout="row" fxLayoutAlign="center center">
    <mat-card class="register-card">
        <mat-card-header>
            <mat-card-title>Register</mat-card-title>
        </mat-card-header>
        <p>Enter your details below to get started</p>
        <form class="register-form" [formGroup]="registerForm">

            <mat-card-content>
                <mat-form-field appearance="outline">
                    <mat-label>Email</mat-label>
                        <input matInput type="email" formControlName="email" required />
                    <mat-error *ngIf="email.invalid && email.touched">Valid email is required</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Password</mat-label>
                        <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" required />
                    <button mat-icon-button matSuffix *ngIf="hide !== undefined && password.value" (click)="hide = !hide">
                        <mat-icon class="header-icon">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <mat-error *ngIf="password.invalid && password.touched">Password is required</mat-error>
                </mat-form-field>
            </mat-card-content>

            <button 
                mat-raised-button
                color="accent"
                class="btn-block"
                [disabled]="registerForm.invalid || isLoading()"
                (click)="onSubmit()">
                register
            </button>

            <div class="spinner-container" *ngIf="isLoading()">
                <mat-progress-spinner mode="indeterminate" diameter="24"></mat-progress-spinner>
            </div>
        </form>
    </mat-card>
</div>
